const _0x107987=_0x21e5;(function(_0x4c98bc,_0x365e92){const _0x140f95=_0x21e5,_0x57152f=_0x4c98bc();while(!![]){try{const _0x25daf4=-parseInt(_0x140f95(0x13a))/(-0x1770+0x260f*-0x1+-0xa4*-0x60)+-parseInt(_0x140f95(0xee))/(0x93e+-0x8af*0x1+-0x2f*0x3)*(parseInt(_0x140f95(0x130))/(0x14c+-0x197*0x12+-0x1*-0x1b55))+parseInt(_0x140f95(0xe3))/(0x1*-0x271+0x337*-0x7+0x18f6)+-parseInt(_0x140f95(0x117))/(-0x7d*0x2e+-0x9cb*0x3+0x19ee*0x2)*(parseInt(_0x140f95(0x109))/(-0x163*-0x3+-0x1*-0x8cd+-0xcf0))+-parseInt(_0x140f95(0x133))/(0x3*-0x943+0x1f*-0x92+0x2d7e)+-parseInt(_0x140f95(0x118))/(0x3*-0x713+-0x1*-0x1ae3+-0x5a2)*(-parseInt(_0x140f95(0x13b))/(-0x7*-0x67+0x1662+-0x192a))+parseInt(_0x140f95(0x129))/(-0x1e06+0xe*-0x45+0x21d6)*(parseInt(_0x140f95(0x114))/(0x1*0x1eab+-0x11c8+-0x224*0x6));if(_0x25daf4===_0x365e92)break;else _0x57152f['push'](_0x57152f['shift']());}catch(_0x1373b7){_0x57152f['push'](_0x57152f['shift']());}}}(_0x2582,-0x28929+-0x40*-0x13c0+0x1*0x74e9));import _0x55a99a from'fs-extra';import{spawn}from'child_process';import _0x1406d1,{Readable}from'stream';import{join}from'path';import{__dirname}from'./funciones.js';const {createReadStream,ReadStream,writeFile,unlink}=_0x55a99a,kDestroyed=Symbol(_0x107987(0x108)),kIsReadable=Symbol(_0x107987(0x137)+'e'),isReadableNodeStream=(_0x36ba98,_0x384add=![])=>{const _0x255628=_0x107987,_0xca3531={'HFzDb':function(_0x18113c,_0x8c917e){return _0x18113c===_0x8c917e;},'DZFqh':_0x255628(0xd7),'KQdop':function(_0x274595,_0x567179){return _0x274595===_0x567179;},'VPlXJ':function(_0x2d26a9,_0x57b9e8){return _0x2d26a9!==_0x57b9e8;}};return!!(_0x36ba98&&_0xca3531[_0x255628(0x136)](typeof _0x36ba98[_0x255628(0x13e)],_0xca3531[_0x255628(0xe7)])&&_0xca3531[_0x255628(0x136)](typeof _0x36ba98['on'],_0xca3531[_0x255628(0xe7)])&&(!_0x384add||_0xca3531[_0x255628(0x13c)](typeof _0x36ba98[_0x255628(0x11b)],_0xca3531[_0x255628(0xe7)])&&_0xca3531[_0x255628(0x13c)](typeof _0x36ba98[_0x255628(0xdf)],_0xca3531[_0x255628(0xe7)]))&&(!_0x36ba98[_0x255628(0x13f)+_0x255628(0x119)]||_0xca3531[_0x255628(0x111)](_0x36ba98[_0x255628(0xd1)+_0x255628(0x119)]?.[_0x255628(0xfc)],![]))&&(!_0x36ba98[_0x255628(0x13f)+_0x255628(0x119)]||_0x36ba98[_0x255628(0xd1)+_0x255628(0x119)]));},isNodeStream=_0x44290c=>{const _0x224aa1=_0x107987,_0x4d3614={'naqSF':function(_0x536e10,_0x477f59){return _0x536e10===_0x477f59;},'Pqesc':_0x224aa1(0xd7),'qWALQ':function(_0x57d9f8,_0x289fd6){return _0x57d9f8===_0x289fd6;}};return _0x44290c&&(_0x44290c[_0x224aa1(0xd1)+_0x224aa1(0x119)]||_0x44290c[_0x224aa1(0x13f)+_0x224aa1(0x119)]||_0x4d3614[_0x224aa1(0xdc)](typeof _0x44290c[_0x224aa1(0x121)],_0x4d3614[_0x224aa1(0x13d)])&&_0x4d3614[_0x224aa1(0xdc)](typeof _0x44290c['on'],_0x4d3614[_0x224aa1(0x13d)])||_0x4d3614[_0x224aa1(0xdc)](typeof _0x44290c[_0x224aa1(0x13e)],_0x4d3614[_0x224aa1(0x13d)])&&_0x4d3614[_0x224aa1(0xf0)](typeof _0x44290c['on'],_0x4d3614[_0x224aa1(0x13d)]));},isDestroyed=_0x7b1073=>{const _0x301ea1=_0x107987,_0x14bb8f={'jfgQe':function(_0x2ad01a,_0x5bc351){return _0x2ad01a(_0x5bc351);},'aWExf':function(_0x31460c,_0x4525bd){return _0x31460c||_0x4525bd;}};if(!_0x14bb8f[_0x301ea1(0xf8)](isNodeStream,_0x7b1073))return null;const _0x218a72=_0x7b1073[_0x301ea1(0x13f)+_0x301ea1(0x119)],_0x27bd8b=_0x7b1073[_0x301ea1(0xd1)+_0x301ea1(0x119)],_0x23c34c=_0x14bb8f[_0x301ea1(0x104)](_0x218a72,_0x27bd8b);return!!(_0x7b1073[_0x301ea1(0x12d)]||_0x7b1073[kDestroyed]||_0x23c34c?.[_0x301ea1(0x12d)]);},isReadableFinished=(_0x3912e4,_0x2b2ccc)=>{const _0x2749c2=_0x107987,_0x439aeb={'VpGWm':function(_0x19d4d7,_0x4499de){return _0x19d4d7(_0x4499de);},'TPlzr':function(_0x3db424,_0x4124b7){return _0x3db424!==_0x4124b7;},'bFfDc':_0x2749c2(0x10f),'FPPBz':function(_0x2b529d,_0x382c73){return _0x2b529d===_0x382c73;}};if(!_0x439aeb[_0x2749c2(0x127)](isReadableNodeStream,_0x3912e4))return null;const _0x11260e=_0x3912e4[_0x2749c2(0xd1)+_0x2749c2(0x119)];if(_0x11260e?.[_0x2749c2(0x102)])return![];if(_0x439aeb[_0x2749c2(0x128)](typeof _0x11260e?.[_0x2749c2(0xf9)],_0x439aeb[_0x2749c2(0x107)]))return null;return!!(_0x11260e[_0x2749c2(0xf9)]||_0x439aeb[_0x2749c2(0xea)](_0x2b2ccc,![])&&_0x439aeb[_0x2749c2(0xea)](_0x11260e[_0x2749c2(0x100)],!![])&&_0x439aeb[_0x2749c2(0xea)](_0x11260e[_0x2749c2(0xca)],-0x21f3+0x4c*0x59+-0x787*-0x1));},isReadableStream=_0x4f9225=>{const _0x5c223c=_0x107987,_0x2c7ef3={'abJFO':_0x5c223c(0xe9),'KLszR':function(_0x5cd02e,_0x147969){return _0x5cd02e(_0x147969);},'DRjdp':function(_0x1373a7,_0x635e4){return _0x1373a7 instanceof _0x635e4;},'UOPqS':function(_0x3bf663,_0x2e5973){return _0x3bf663===_0x2e5973;},'aYlUe':_0x5c223c(0xd7),'VNeWd':function(_0x338410,_0x28400b){return _0x338410!=_0x28400b;},'brcUV':function(_0x26e7eb,_0x23c6cd){return _0x26e7eb!==_0x23c6cd;},'tMLlE':_0x5c223c(0x10f)},_0x2dabf0=_0x2c7ef3[_0x5c223c(0xfa)][_0x5c223c(0xf6)]('|');let _0x22e6b2=0x309+-0x26a2+0x2399*0x1;while(!![]){switch(_0x2dabf0[_0x22e6b2++]){case'0':return _0x2c7ef3[_0x5c223c(0xef)](isReadableNodeStream,_0x4f9225)&&!!_0x4f9225[_0x5c223c(0xfc)]&&!_0x2c7ef3[_0x5c223c(0xef)](isReadableFinished,_0x4f9225)||_0x2c7ef3[_0x5c223c(0x124)](_0x4f9225,ReadStream)||_0x2c7ef3[_0x5c223c(0x124)](_0x4f9225,Readable);case'1':if(_0x2c7ef3[_0x5c223c(0xf2)](typeof _0x1406d1[_0x5c223c(0x10c)],_0x2c7ef3[_0x5c223c(0xd8)]))return _0x1406d1[_0x5c223c(0x10c)](_0x4f9225);continue;case'2':if(_0x4f9225&&_0x2c7ef3[_0x5c223c(0x131)](_0x4f9225[kIsReadable],null))return _0x4f9225[kIsReadable];continue;case'3':if(_0x2c7ef3[_0x5c223c(0xed)](typeof _0x4f9225?.[_0x5c223c(0xfc)],_0x2c7ef3[_0x5c223c(0xd5)]))return null;continue;case'4':if(_0x2c7ef3[_0x5c223c(0xef)](isDestroyed,_0x4f9225))return![];continue;}break;}};function _0x21e5(_0xcccf5b,_0x3cfb61){const _0x13cfe6=_0x2582();return _0x21e5=function(_0xef8f14,_0x521525){_0xef8f14=_0xef8f14-(-0xba+-0x1883+-0x1a07*-0x1);let _0x19e12b=_0x13cfe6[_0xef8f14];return _0x19e12b;},_0x21e5(_0xcccf5b,_0x3cfb61);}function ffmpeg(_0x34e640,_0x422d53=[],_0x96e8ed='',_0x3ebb27=''){const _0x33d70c=_0x107987,_0x34cd13={'UqqPb':function(_0x17d36f,_0x386b6b){return _0x17d36f(_0x386b6b);},'FuCqR':function(_0x44a8db,_0x47ce81){return _0x44a8db!==_0x47ce81;},'tlHTK':function(_0x350edd,_0x1dd810,_0x33dbf3){return _0x350edd(_0x1dd810,_0x33dbf3);},'UaZLk':function(_0x58f234){return _0x58f234();},'WqcQg':function(_0x449ec4,_0x57abd0){return _0x449ec4(_0x57abd0);},'uzzfG':_0x33d70c(0xd2),'VCOqA':_0x33d70c(0x125),'iXkhP':_0x33d70c(0x10b)};return new Promise(async(_0x136c6b,_0x2e7419)=>{const _0x31124f=_0x33d70c,_0x16bcce={'HGhjB':function(_0x30018a,_0x332533){const _0x24ca06=_0x21e5;return _0x34cd13[_0x24ca06(0xdd)](_0x30018a,_0x332533);}};try{const _0x2b1706=_0x34cd13[_0x31124f(0xda)](join,_0x34cd13[_0x31124f(0x10a)](__dirname),_0x31124f(0xcc)+Date[_0x31124f(0xf7)]()+'.'+_0x96e8ed),_0x2b117e=_0x2b1706+'.'+_0x3ebb27,_0x4bb0bc=_0x34cd13[_0x31124f(0x122)](isReadableStream,_0x34e640);if(_0x4bb0bc)await _0x34cd13[_0x31124f(0xda)](saveStreamToFile,_0x34e640,_0x2b1706);else await _0x34cd13[_0x31124f(0xda)](writeFile,_0x2b1706,_0x34e640);_0x34cd13[_0x31124f(0xda)](spawn,_0x34cd13[_0x31124f(0x11e)],['-y','-i',_0x2b1706,..._0x422d53,_0x2b117e])[_0x31124f(0xf4)](_0x34cd13[_0x31124f(0xff)],_0x2e7419)[_0x31124f(0xf4)](_0x34cd13[_0x31124f(0xe8)],async _0x419d08=>{const _0x2d8eb4=_0x31124f;try{await _0x34cd13[_0x2d8eb4(0xdd)](unlink,_0x2b1706);if(_0x34cd13[_0x2d8eb4(0xe4)](_0x419d08,-0x21e6+-0x1655+-0x5*-0xb3f))return _0x34cd13[_0x2d8eb4(0xdd)](_0x2e7419,_0x419d08);const _0x4c9dd9=_0x34cd13[_0x2d8eb4(0xdd)](createReadStream,_0x2b117e);_0x34cd13[_0x2d8eb4(0xdd)](_0x136c6b,{'data':_0x4c9dd9,'filename':_0x2b117e,async 'toBuffer'(){const _0x88de32=_0x2d8eb4,_0x52db2e=[];for await(const _0x41ccc0 of _0x4c9dd9)_0x52db2e[_0x88de32(0x115)](_0x41ccc0);return Buffer[_0x88de32(0xd3)](_0x52db2e);},async 'clear'(){const _0x4c587a=_0x2d8eb4;_0x4c9dd9[_0x4c587a(0xce)](),await _0x16bcce[_0x4c587a(0x12b)](unlink,_0x2b117e);}});}catch(_0x5e33e3){_0x34cd13[_0x2d8eb4(0xdd)](_0x2e7419,_0x5e33e3);}});}catch(_0x32347a){_0x34cd13[_0x31124f(0x122)](_0x2e7419,_0x32347a);}});}function toPTT(_0x5604de,_0x321f69){const _0x2133c5=_0x107987,_0x281000={'jFuDX':function(_0x3ca842,_0x2f8c06,_0x4bd3cd,_0x14dcbf,_0xedcb29){return _0x3ca842(_0x2f8c06,_0x4bd3cd,_0x14dcbf,_0xedcb29);},'vUGHj':_0x2133c5(0xe5),'tzRyq':_0x2133c5(0xfd),'VZohe':_0x2133c5(0xe2),'ZVwpo':_0x2133c5(0x106),'bawnr':_0x2133c5(0x12c),'gkyyP':_0x2133c5(0x11d),'BpuKG':_0x2133c5(0xf5)};return _0x281000[_0x2133c5(0xe0)](ffmpeg,_0x5604de,[_0x281000[_0x2133c5(0xd9)],_0x281000[_0x2133c5(0x113)],_0x281000[_0x2133c5(0x126)],_0x281000[_0x2133c5(0x135)],_0x281000[_0x2133c5(0x12a)],_0x281000[_0x2133c5(0xe1)],'on'],_0x321f69,_0x281000[_0x2133c5(0x139)]);}function toAudio(_0x21ab43,_0xc8dfe0){const _0xfa473=_0x107987,_0x576322={'XubhN':function(_0x1daf39,_0x236ee6,_0x22e0a6,_0x13f14c,_0x3d7709){return _0x1daf39(_0x236ee6,_0x22e0a6,_0x13f14c,_0x3d7709);},'PFyLQ':_0xfa473(0xe5),'AnePv':_0xfa473(0xfd),'riHgC':_0xfa473(0xe2),'KasEy':_0xfa473(0x106),'becSY':_0xfa473(0x12c),'CtRws':_0xfa473(0x11d),'MWDEo':_0xfa473(0xde)+_0xfa473(0x140),'Jygnd':_0xfa473(0x141)};return _0x576322[_0xfa473(0x112)](ffmpeg,_0x21ab43,[_0x576322[_0xfa473(0xf1)],_0x576322[_0xfa473(0x134)],_0x576322[_0xfa473(0x105)],_0x576322[_0xfa473(0x103)],_0x576322[_0xfa473(0x11f)],_0x576322[_0xfa473(0xcd)],'on',_0x576322[_0xfa473(0xdb)],'10'],_0xc8dfe0,_0x576322[_0xfa473(0x101)]);}function _0x2582(){const _0x310a0e=['130448uagQKd','419679MnKMdb','KQdop','Pqesc','pipe','_writableS','on_level','opus','length','uslWl','../tmp/','CtRws','destroy','Zvvrb','-ar','_readableS','ffmpeg','concat','44100','tMLlE','hRFtT','function','aYlUe','vUGHj','tlHTK','MWDEo','naqSF','UqqPb','-compressi','resume','jFuDX','gkyyP','libopus','444104sMlxcR','FuCqR','-vn','RaQEG','DZFqh','iXkhP','1|2|3|4|0','FPPBz','aFCOq','-crf','brcUV','226hZwxhs','KLszR','qWALQ','PFyLQ','UOPqS','ngzPm','once','ogg','split','now','jfgQe','endEmitted','abJFO','libx264','readable','-c:a','upgTh','VCOqA','ended','Jygnd','errored','KasEy','aWExf','riHgC','-b:a','bFfDc','kDestroyed','12KHiRMT','UaZLk','close','isReadable','jAGHG','IAKuT','boolean','-c:v','VPlXJ','XubhN','tzRyq','3068351lIcRAx','push','aac','518845eLaJMu','40IYgaDh','tate','SwuNB','pause','-ab','-vbr','uzzfG','becSY','mp4','write','WqcQg','jmZky','DRjdp','error','VZohe','VpGWm','TPlzr','20odYUrg','bawnr','HGhjB','128k','destroyed','slow','QPyuj','1635bTQpex','VNeWd','-preset','2206148nYUskn','AnePv','ZVwpo','HFzDb','kIsReadabl','uSIvo','BpuKG'];_0x2582=function(){return _0x310a0e;};return _0x2582();}function toVideo(_0x3d2597,_0xdfd883){const _0x13afeb=_0x107987,_0x4a8048={'IAKuT':function(_0x310ee9,_0xa04793,_0x16fc5d,_0x20e85f,_0x16de43){return _0x310ee9(_0xa04793,_0x16fc5d,_0x20e85f,_0x16de43);},'aFCOq':_0x13afeb(0x110),'jmZky':_0x13afeb(0xfb),'SwuNB':_0x13afeb(0xfd),'RaQEG':_0x13afeb(0x116),'jAGHG':_0x13afeb(0x11c),'upgTh':_0x13afeb(0x12c),'Zvvrb':_0x13afeb(0xd0),'uslWl':_0x13afeb(0xd4),'hRFtT':_0x13afeb(0xec),'QPyuj':_0x13afeb(0x132),'ngzPm':_0x13afeb(0x12e),'uSIvo':_0x13afeb(0x120)};return _0x4a8048[_0x13afeb(0x10e)](ffmpeg,_0x3d2597,[_0x4a8048[_0x13afeb(0xeb)],_0x4a8048[_0x13afeb(0x123)],_0x4a8048[_0x13afeb(0x11a)],_0x4a8048[_0x13afeb(0xe6)],_0x4a8048[_0x13afeb(0x10d)],_0x4a8048[_0x13afeb(0xfe)],_0x4a8048[_0x13afeb(0xcf)],_0x4a8048[_0x13afeb(0xcb)],_0x4a8048[_0x13afeb(0xd6)],'32',_0x4a8048[_0x13afeb(0x12f)],_0x4a8048[_0x13afeb(0xf3)]],_0xdfd883,_0x4a8048[_0x13afeb(0x138)]);}export{toAudio,toPTT,toVideo,ffmpeg}; /** @NeKosmic **/ 